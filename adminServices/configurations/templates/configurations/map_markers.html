{% extends 'dashboard/base.html' %}
{% block title %} Map indicators {% endblock %}
{% load static %}


{%block css%}
{%endblock%}

{% block content %}
<link rel="stylesheet" href="{% static '/css/configurations/conf.css'%}">
<div class="configration-nav-container">

    {% include "configurations/side_nav.html" %}

    <!-- Amenities -->
    <div class="form_container"  id="Amenities">
        <div class="Fields-container configurations_fields_container">
            <div class="bigger_width_field">
                <label for="fname" class="labels">Search</label>
                <div class="search-box">
                    <img src="{% static '/images/search-1.png' %}" alt="">
                    <input id="search-input" type="text" placeholder="E.g. MFG Ultra-Rapid, Other Rapid" class="inputs" />
                </div>
            </div>
            <div class="btn_container ml-auto">
                <button  class="add-btn map-marker-add-text" onclick="addBrandIndicator()" data-toggle="modal" data-target="#addBrandMarker">
                    Add Brand indicators
                </button>
                <button  class="add-btn map-marker-add-text" onclick="addEVIndicator()" data-toggle="modal" data-target="#addEVIndicators">
                    Add EV indicators
                </button>
            </div>
        </div>
        <div class="table_container configurations_table_container" > 
            <table class="table configurations_table" aria-describedby="configdesc" id="table-amenities">
                <thead>
                  <tr>
                    <th scope="col" hidden>ID</th>
                    <th scope="col" hidden>Path</th>
                    <th scope="col"class="text-left  th_conf left_20px" >Indicator Type</th>
                    <th scope="col" class="text-center">Image</th>
                    <th scope="col" class="text-right right_20px th_conf">Action</th>
                  </tr>
                </thead>
                <tbody id="listingTable">
                </tbody>
                <tbody>
                    <tr>
                        <td colspan="7"  class="pagination_bx_background">
                            <div class="pagination_div">
                                <div class="record_count">
                                    <span id="record_count"></span>
                                </div>
                                <div class="pagination_buttons d-flex justify-content-lg-start align-items-center" id="pagination_button_box">
                                    <span class="pagination_button prev" id="button_prev">Previous</span>
                                    <span id="page_number"></span>
                                    <span class="pagination_button next" id="button_next">Next</span>
                                </div>
                        </div> 
                        </td>
                </tr></tbody>

              </table>
        </div>
    </div>

</div>



<!-- modal to add brand indicators -->
<div class="modal fade" id="addBrandMarker" data-bs-keyboard="false" tabindex="-1" aria-labelledby="addAmenitiesLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
     <div class="modal-content add_conf_modal" >
            <div class="modal-body">
                
                <div class="heading">
                    <h6 class="add_conf_heading">Add New Brand Indicator</h6>
                    <button type="button" class="btn-close"  data-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="d-flex flex-column">
                    
                    {% csrf_token %}
                    <div>
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="brand_indicator_type" class="labels">Indicator Type</label><br>
                            <input type="text" id="brand_indicator_type" class="txtbox input-txt" name="brand_indicator_type" placeholder="">
                        </div>
                    </div> 
                    
                    <div>
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Indicator Image</label><br>
                            <input type="text" id="brand_image_path_src" hidden class="txtbox"  name="image_path" placeholder="">
                        </div>
                    </div>
                    
                    <div id="add_brand_indicator_images_container" class="add_images_conf_container">

                        <div id="d-flex flex-column"  class="mr-tp">
                            <input type="file" id="brand_indicator_file"  name="brand_indicator_file" hidden accept=".jpeg,.jpg,.png"/>
                            <label for="brand_indicator_file" class="add_images_label"><strong class=" pick-img">Add Image</strong></label>
                        </div>
                    </div>

                </div>
        
            </div>
            <div class="modal-footer modal_footer_padding">
                <button type="button" class="btn btn-light" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-danger" onclick="addBrandIndicatorDetails()">Submit</button>
            </div>
          </div>
    </div>
</div>


<!-- modal to add EV indicators -->
<div class="modal fade" id="addEVIndicators" data-bs-keyboard="false" tabindex="-1" aria-labelledby="addAmenitiesLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
     <div class="modal-content add_conf_modal" >
            <div class="modal-body">
                <div class="heading">
                    <h6 class="add_conf_heading">Add New EV Indicator</h6>
                    <button type="button" class="btn-close"  data-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="d-flex flex-column">
                    {% csrf_token %}
                    <div>
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="ev_indicator_type" class="labels">Indicator Type</label><br>                       
                            <select name="ev_indicator_type" id="ev_indicator_type" class="txtbox input-txt ">
                                <option value="">Select Indicator Type</option>
                                {% for ev_indicator in ev_indicators_list%}
                                    {% if ev_indicator not in already_added_ev_indicators %}
                                        <option value="{{ev_indicator}}">{{ev_indicator}}</option>
                                    {%endif%}
                                {% endfor %}
                            </select>
                        </div>
                    </div> 
                    
                    <div>
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Indicator Image</label><br>
                            <input type="text" id="ev_image_path_src" hidden class="txtbox"  name="image_path" placeholder="">
                        </div>
                    </div>
                    
                    <div id="add_ev_indicator_images_container" class="add_images_conf_container">

                        <div id="d-flex flex-column"  class="mr-tp">
                            <input type="file" id="ev_indicator_file"  name="ev_indicator_file" hidden accept=".jpeg,.jpg,.png"/>
                            <label for="ev_indicator_file" class="add_images_label"><strong class=" pick-img">Add Image</strong></label>
                        </div>
                    </div>

                </div>
        
            </div>
            <div class="modal-footer modal_footer_padding">
                <button type="button" class="btn btn-light" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-danger" onclick="addEVIndicatorDetails()">Submit</button>
            </div>
          </div>
    </div>
</div>

<!-- modal for edit Amenities -->
<div class="modal fade" id="editBrandConnector"   data-bs-keyboard="false" tabindex="-1" aria-labelledby="editBrandConnectorLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content edit_conf_modal" >
         
        <div class="modal-body">
            <div class="heading">
                <h6 class="add_conf_heading">Edit Brand Indicator</h6>
                 <button type="button" class="btn-close" onclick="closeModal('#editBrandConnector')"  data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="d-flex flex-column">
                <input type="text" id="brand_indicator_id" hidden name="type" placeholder="">
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="edit_brand_indicator_type" class="labels">Indicator Type</label><br>
                        <input type="text" id="edit_brand_indicator_type" class="txtbox input-txt" name="edit_brand_indicator_type" placeholder="">
                    </div>
                </div>
                
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="edit_brand_image_path_src" class="labels">Indicator Image</label><br>
                        <input type="text" id="edit_brand_image_path_src" hidden class="txtbox"  name="edit_brand_image_path_src" placeholder="">                    </div>
                </div>
                <div id="edit_brand_indicator_images_container" class="add_images_conf_container">
                    <div class="profile_container">
                        <div id='edit_brand_indicator_discard' class='discard btn-close'></div>
                        <img class="profile_image_ service_image" src="" alt="">
                    </div>
                </div> 
            </div>
       
        </div>
        <div class="modal-footer conf_modal_footer" >
            <button type="button" class="btn btn-light"  onclick="closeModal('#editBrandConnector')" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="update_amenity_button" onclick="updateBrandIndicator()">Submit</button>
        </div>
      </div>
    </div>
</div>


<!-- modal for edit Amenities -->
<div class="modal fade" id="editEVConnector"   data-bs-keyboard="false" tabindex="-1" aria-labelledby="editEVConnectorLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content edit_conf_modal" >
         
        <div class="modal-body">
            <div class="heading">
                <h6 class="add_conf_heading">Edit EV Indicator</h6>
                 <button type="button" class="btn-close" onclick="closeModal('#editEVConnector')"  data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="d-flex flex-column">
                <input type="text" id="ev_indicator_id" hidden name="type" placeholder=""><div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="edit_ev_indicator_type" class="labels">Indicator Type</label><br>                       
                        <select name="edit_ev_indicator_type" id="edit_ev_indicator_type" class="txtbox input-txt ">
                            <option value="">Select Indicator Type</option>
                            {% for ev_indicator in ev_indicators_list%}
                                <option value="{{ev_indicator}}">{{ev_indicator}}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div> 
                
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="edit_ev_image_path_src" class="labels">Indicator Image</label><br>
                        <input type="text" id="edit_ev_image_path_src" hidden class="txtbox"  name="edit_ev_image_path_src" placeholder="">
                    </div>
                </div>
                
                <div id="edit_ev_indicator_images_container" class="add_images_conf_container">

                    <div id="d-flex flex-column"  class="mr-tp">
                        <input type="file" id="edit_ev_indicator_file"  name="edit_ev_indicator_file" hidden accept=".jpeg,.jpg,.png"/>
                        <label for="edit_ev_indicator_file" class="add_images_label"><strong class=" pick-img">Add Image</strong></label>
                    </div>
                </div>
            </div>
       
        </div>
        <div class="modal-footer conf_modal_footer" >
            <button type="button" class="btn btn-light"  onclick="closeModal('#editEVConnector')" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="update_amenity_button" onclick="updateEVIndicator()">Submit</button>
        </div>
      </div>
    </div>
</div>
<!-- modal for view Amenities details -->
<div class="modal fade" id="viewIndicators"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="viewIndicatorsLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content view_conf_details">
         
        <div class="modal-body">
            <div class="heading heading-mar">
                <h6 class="add_conf_heading">Indicator Details</h6>
                 <button type="button" class="btn-close"  data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="d-flex flex-column">
                <div>
                    <div id="d-flex flex-column" >
                        <label for="email" class="labels">Indicator Type</label><br>
                        <h6  class="view-con-typ conf-details-heading"></h6>
                    </div>
                </div>
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Indicator Image</label><br>
                    </div>
                </div> 
                <div id="add_images_container" class="add_images_conf_container">
                    <div class="profile_container">
                        <img class="profile_image_ service_image view-con-img" src="{% static '/images/Group.png' %}" alt="">
                    </div>
                </div> 
            </div>
        </div>
        <div class="modal-footer conf_modal_footer">
            <button id="view_indicators_actions_button" onclick="switchToBrandAndEVEditor();" type="button" class="btn btn-danger" data-dismiss="modal">
                <img src="{% static '/images/pencil.png' %}" class="delete-icn2" alt="">
            </button>
        </div>
      </div>
    </div>
</div>





{% endblock%}


<!-- javascript -->
{% block js %}

 
<script type="text/javascript">
    // This javascript code uses data from django tags
    var errors = ["{%for m in messages%}{{m}}{%endfor%}"];
    is_error = "{% firstof messages%}";
    let window_radirect_location = "{% url 'addMarkers'%}";
    var token = '{{csrf_token}}';
    let add_indicator_url = "{% url 'addMarkers' %}";
    let update_indicator_url = "{% url 'updateMarkers' %}";
    let group_png_url ="{% static '/images/Group.png' %}";

    let paginationObj = JSON.parse('{{json_data | escapejs }}');
    let pencilEditImage ="{% static '/images/pencil-2.png' %}";
    let paginationCount = "{{pagination_count}}";
    let paginationFor = "map_markers";

</script>

<script src="{% static 'js/configurations/common-configurations-func.js' %}"></script>
<script src="{% static 'js/configurations/map_markers.js' %}"></script>
<script src="{% static 'js/configurations/pagination.js' %}"></script>
{% endblock %}
