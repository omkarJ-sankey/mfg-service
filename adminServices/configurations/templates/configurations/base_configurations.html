{% extends 'dashboard/base.html' %}
{% block title %}Base Configurations {% endblock %}
{% load static %}


{%block css%}
{%endblock%}

{% block content %}
<link rel="stylesheet" href="{% static '/css/configurations/conf.css'%}">
<div class="configration-nav-container">

    {% include "configurations/side_nav.html" %}

    <!-- Amenities -->
    <div class="form_container"  id="Amenities">
        <div class="Fields-container configurations_fields_container">
            <div class="bigger_width_field">
                <label for="fname" class="labels">Search</label>
                <div class="search-box">
                    <img src="{% static '/images/search-1.png' %}" alt="">
                    <input id="search-input" type="text" placeholder="E.g. Oscar Brown" class="inputs" />
                </div>
            </div>
            <div class="btn_container ml-auto">
                <button  class="add-btn" onclick="addBasConfiguration()" data-toggle="modal" data-target="#addBasConfigurations">
                 <img  data-toggle="tooltip" data-placement="bottom" title="Add"  src="{% static '/images/plus-sign.png' %}" alt=""></button>
            </div>
        </div>
        <div class="table_container configurations_table_container" > 
            <table class="table configurations_table base_configurations_table" aria-describedby="configdesc" id="table-amenities">
                <thead>
                  <tr>
                    <th scope="col" hidden>ID</th>
                    <th scope="col"class="align-middle  th_conf" >Variable Name</th>
                    <th scope="col"class="align-middle  th_conf" >Database Variable Name</th>
                    <th scope="col" class="align-middle">Description</th>
                    <th scope="col" class="align-middle">Value</th>
                    <th scope="col" class="align-middle">Added to cache</th>
                    <th scope="col" class="align-middle">Frequently used</th>
                    <th scope="col" class="align-middle right_20px th_conf">Action</th>
                  </tr>
                </thead>
                <tbody id="listingTable">
                </tbody>
                <tbody>
                    <tr>
                        <td colspan="7"  class="pagination_bx_background">
                            <div class="pagination_div">
                                <div class="record_count">
                                    <span id="record_count"></span>
                                </div>
                                <div class="pagination_buttons d-flex justify-content-lg-start align-items-center" id="pagination_button_box">
                                    <span class="pagination_button prev" id="button_prev">Previous</span>
                                    <span id="page_number"></span>
                                    <span class="pagination_button next" id="button_next">Next</span>
                                </div>
                        </div> 
                        </td>
                </tr></tbody>
              </table>
        </div>
    </div>

</div>



<!-- modal for add Amenities -->
<div class="modal fade" id="addBasConfigurations" data-bs-keyboard="false" tabindex="-1" aria-labelledby="addAmenitiesLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
     <div class="modal-content add_base_conf_modal" >
        <div class="modal-body">
            <div class="heading">
                <h6 class="add_conf_heading">Add New Base Configuration</h6>
                 <button type="button" class="btn-close"  data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="d-flex flex-column">
                
                {% csrf_token %}
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Database Variable Name</label><br>
                        <input type="text" id="db_var_name" class="txtbox input-txt" name="service_name" placeholder="">
                    </div>
                </div> 
                
                <div class="row">
                    <div class="col-sm-6">
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Variable Name</label><br>
                            <input type="text" id="var_name" class="txtbox input-txt" name="service_name" placeholder="">
                        </div>
                    </div> 
                    <div class="col-sm-6">
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Value</label><br>
                            <input type="text" id="var_value" class="txtbox input-txt" name="service_name" placeholder="">
                        </div>
                    </div> 

                </div> 
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Description</label><br>
                        <textarea id="desc" class="txtbox input-txt textarearea-txt" name="service_name" placeholder=""  rows="2"></textarea>
                        
                    </div>
                </div> 
                <div class="row mt-3">
                    <div class="col-6">
                        <input type="checkbox" id="add_to_cache" name="add_to_cache">
                        <label class="ml-1" for="add_to_cache">Add to cache?</label><br>
                    </div>
                    <div class="col-6">
                        <input type="checkbox" id="frequently_used_var" name="frequently_used_var">
                        <label class="ml-1" for="frequently_used_var">Frequently used?</label><br>
                    </div>
                </div>
            </div>
       
        </div>
        <div class="modal-footer modal_footer_padding">
            <button type="button" class="btn btn-light" data-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-danger" onclick="addBaseConfDetails()" id="add_amenity_button">Submit</button>
        </div>
          </div>
    </div>
</div>

<!-- modal for edit Amenities -->
<div class="modal fade" id="updateBasConfigurations"   data-bs-keyboard="false" tabindex="-1" aria-labelledby="editConnectorLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content add_base_conf_modal" >
         
        <div class="modal-body">
            <div class="heading">
                <h6 class="add_conf_heading">Edit Base Configuration</h6>
                 <button type="button" class="btn-close" onclick="closeModal('#updateBasConfigurations')"  data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="d-flex flex-column">
                {% csrf_token %}
                <input type="text" id="base_conf_id" hidden name="base_conf_id" placeholder="" value="">
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Database Variable Name</label><br>
                        <input type="text" id="edit_db_var_name" class="txtbox input-txt" name="service_name" placeholder="">
                    </div>
                </div> 
                
                <div class="row">
                    <div class="col-sm-6">
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Variable Name</label><br>
                            <input type="text" id="edit_var_name" class="txtbox input-txt" name="service_name" placeholder="">
                        </div>
                    </div> 
                    <div class="col-sm-6">
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Value</label><br>
                            <input type="text" id="edit_var_value" class="txtbox input-txt" name="service_name" placeholder="">
                        </div>
                    </div> 

                </div> 
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Description</label><br>
                        <textarea id="edit_desc" class="txtbox input-txt textarearea-txt" name="service_name" placeholder=""  rows="2"></textarea>
                        
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-6">
                        <input type="checkbox" id="add_to_cache_edit" name="add_to_cache_edit">
                        <label class="ml-1" for="add_to_cache_edit">Add to cache?</label><br>
                    </div>
                    <div class="col-6">
                        <input type="checkbox" id="frequently_used_edit_var" name="frequently_used_edit_var">
                        <label class="ml-1" for="frequently_used_edit_var">Frequently used?</label><br>
                    </div>
                </div>
            </div>
       
        </div>
        <div class="modal-footer conf_modal_footer" >
            <button type="button" class="btn btn-light"  onclick="closeModal('#updateBasConfigurations')" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="update_amenity_button" onclick="updateAmenity()">Submit</button>
        </div>
      </div>
    </div>
</div>

<!-- modal for view Amenities details -->
<div class="modal fade" id="viewBasConfigurations"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="viewBasConfigurationsLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content add_base_conf_modal">
         
        <div class="modal-body">
            <div class="heading">
                <h6 class="add_conf_heading">Base Configuration Details</h6>
                 <button type="button" class="btn-close"  data-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="d-flex flex-column">
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Database Variable Name</label><br>
                        
                        <h6  class="view-db-var-name conf-details-heading"></h6>
                    </div>
                </div> 
                
                <div class="row">
                    <div class="col-sm-6">
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Variable Name</label><br>
                            
                            <h6  class="view-var-name conf-details-heading"></h6>
                        </div>
                    </div> 
                    <div class="col-sm-6">
                        <div id="d-flex flex-column"  class="mr-tp">
                            <label for="email" class="labels">Value</label><br>
                            
                            <h6  class="view-var-value conf-details-heading"></h6>
                        </div>
                    </div> 

                </div> 
                <div>
                    <div id="d-flex flex-column"  class="mr-tp">
                        <label for="email" class="labels">Description</label><br>
                        
                        <h6  class="view-desc conf-details-heading"></h6>
                        
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-6">
                        <label for="add_to_cache_details">Add to cache?</label><br>
                        <h6  class="add-to-cache-desc conf-details-heading"></h6>
                    </div>
                    <div class="col-6">
                        <label for="frequently_used_details">Frequently used?</label><br>
                        <h6  class="frequently-used-var-desc conf-details-heading"></h6>
                    </div>
                </div>


            </div>
       
        </div>
        <div class="modal-footer conf_modal_footer">
            <button onclick="switchToBaseconfEditor()" type="button" class="btn btn-danger" data-dismiss="modal">
                <img src="{% static '/images/pencil.png' %}" class="delete-icn2" alt="">
            </button>
        </div>
      </div>
    </div>
</div>




{% endblock%}


<!-- javascript -->
{% block js %}

 
<script type="text/javascript">
    // This javascript code uses data from django tags
    var errors = ["{%for m in messages%}{{m}}{%endfor%}"];
    is_error = "{% firstof messages%}";
    var token = '{{csrf_token}}';
    let add_base_conf_url = "{% url 'addBaseConfigurations' %}";
    let update_amenity_url = "{% url 'updateBaseConfigurations' %}";
    let group_png_url ="{% static '/images/Group.png' %}";

    let paginationObj = JSON.parse('{{json_data | escapejs }}');
    let pencilEditImage ="{% static '/images/pencil-2.png' %}";
    let paginationCount = "{{pagination_count}}";
    let paginationFor = "base_configurations";
</script>

<script src="{% static 'js/configurations/common-configurations-func.js' %}"></script>
<script src="{% static 'js/configurations/base_configurations.js' %}"></script>
<script src="{% static 'js/configurations/pagination.js' %}"></script>
{% endblock %}
